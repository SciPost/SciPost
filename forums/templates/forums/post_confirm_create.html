{% extends 'forums/base.html' %}

{% load bootstrap %}
{% load automarkup %}


{% block breadcrumb_items %}
  {{ block.super }}
  <span class="breadcrumb-item">Confirm Post creation</span>
{% endblock %}

{% block pagetitle %}: Post: confirm creation{% endblock pagetitle %}

{% block content %}

  <div class="row">
    <div class="col-12">
      <h3 class="highlight">Preview</h3>

      <div class="card">
	<div class="card-header">
	  {{ form.initial.subject }}
	</div>
	<div class="card-body">
	  {% if form.initial.text %}
	    {{ form.initial.text|automarkup }}
	  {% else %}
	    <span class="text-danger">No text given</span>
	  {% endif %}
	</div>
      </div>

      {% if form.errors %}
	{% for field in form %}
	  {% for error in field.errors %}
	    <div class="alert alert-danger">
	      <strong>{{ field.name }} - {{ error|escape }}</strong>
	    </div>
	  {% endfor %}
	{% endfor %}
	{% for error in form.non_field_errors %}
	  <div class="alert alert-danger">
	    <strong>{{ error|escape }}</strong>
	  </div>
	{% endfor %}
      {% endif %}

      <form action="" method="post">
	{% csrf_token %}
	{{ form|bootstrap }}
	<input type="submit" value="Confirm Post creation" class="btn btn-primary">
	<span class="text-danger">&nbsp;<strong>Not satisfied?</strong> Hit your browser's back button and redraft your Post</span>
      </form>

    </div>
  </div>

{% endblock content %}
