{% extends 'scipost/base.html' %}

{% load render_bundle from webpack_loader %}
{% load staticfiles %}

{% block headsup %}
  {% render_bundle 'vue' 'css' %}
{% endblock headsup %}

{% block content %}

  <h3>Your email account accesses</h3>
  <table class="table mb-4">
    <tr>
      <th>Account</th>
      <th>Rights</th>
      <th>From</th>
      <th>Until</th>
    </tr>
    {% for access in request.user.email_account_accesses.all %}
      <tr>
	<td>{{ access.account.name }}</td>
	<td>{{ access.account.email }}</td>
	<td>{{ access.get_rights_display }}</td>
	<td>{{ access.date_from }}</td>
	<td>{{ access.date_until }}</td>
      </tr>
    {% empty %}
      <tr><td>You do not have access to any email account.</td></tr>
    {% endfor %}
  </table>

  <div id="messages-table">
    <messages-table></messages-table>
  </div>

{% endblock content %}

{% block footer_script %}
  {% render_bundle 'vue' 'js' %}
{% endblock footer_script %}
