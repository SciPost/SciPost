
<div class="card">
  <div class="card-header">
    <h3>{{ topic }}</h3>
    {% if perms.scipost.can_manage_ontology %}
    <a href="{% url 'ontology:topic_update' slug=topic.slug %}">Update</a>
    {% endif %}
  </div>
  <div class="card-body">
    {% if topic.tags.all %}
    <ul class="list list-inline">
      <li class="list-inline-item"><strong>Tags</strong>:</li>
      {% for tag in topic.tags.all %}
      <li class="list-inline-item">{{ tag }}</li>
      {% endfor %}
    </ul>
    {% endif %}
    <h4>Relations</h4>
    <div class="row">
      <div class="col-6">
	<h5>asymmetric:</h5>
	<ul>
	  {% for rel in relations_asym %}
	  <li>{% if rel.A != topic %}<a href="{% url 'ontology:topic_details' slug=rel.A.slug %}">{{ rel.A}}</a>{% else %}{{ rel.A }}{% endif %} <em>{{ rel.get_relation_display }}</em> {% if rel.B != topic %}<a href="{% url 'ontology:topic_details' slug=rel.B.slug %}">{{ rel.B }}</a>{% else %}{{ rel.B }}{% endif %}</li>
	  {% empty %}
	  <li>No relations have been defined</li>
	  {% endfor %}
	</ul>
      </div>
      <div class="col-6">
	<h5>symmetric:</h5>
	<ul>
	  {% for rel in topic.relationsym_set.all %}
	  <li>{% for reltopic in rel.topics.all %}{% if reltopic != topic %}<a href="{% url 'ontology:topic_details' slug=reltopic.slug %}">{{ reltopic }}</a>{% else %}{{ reltopic }}{% endif %}, {% endfor %} <em>{{ rel.get_relation_display }}</em></li>
	  {% empty %}
	  <li>No symmetric relations have been defined</li>
	  {% endfor %}
	</ul>
      </div>
    </div>
  </div>
</div>
