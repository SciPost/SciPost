{% extends "scipost/base.html" %}

{% load crispy_forms_tags %}

{% block pagetitle %}: Tasklist{% endblock %}

{% block content %}
  <div class="bg-warning bg-opacity-10 border border-warning border-1 p-2 mb-4">
    <span class="text-warning">{% include 'bi/cone-striped.html' %}</span>
    This page is under construction.
    It might not contain all your todo items.
  </div>
 
  <div class="d-flex gap-2 justify-content-between align-items-center">
    <h1>Tasklist</h1>
    <a href="{% url 'tasks:tasklist_new_grouped' %}">View grouped by task kind</a>
  </div>

  <section aria-label="Search and filter tasks">
    <form hx-get="{% url 'tasks:tasklist_new' %}"
          hx-target="#tasklist-table"
          hx-push-url="true"
          hx-params="not csrfmiddlewaretoken"
          hx-indicator="#tasks-table-load-indicator"
          hx-trigger="keyup delay:500ms, change delay:500ms">
      {% crispy form %}
    </form>
  </section>

  <div id="tasklist-table" class="d-flex flex-column gap-3">

    {% include "tasks/_hx_task_table.html" %}

  </div>
{% endblock %}
