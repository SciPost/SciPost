{% extends 'scipost/base.html' %}
{% load static %}

{% block headsup %}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
{% endblock headsup %}

{% load render_bundle from webpack_loader %}
{% load static %}

{% block navbar %}
  {% include 'scipost/navbar3.html' %}
{% endblock %}

{% block body_class %}{{ block.super }} homepage home-alt{% endblock %}

{% block meta_description %}{{ block.super }} homepage{% endblock meta_description %}
{% block pagetitle %}Homepage{% endblock pagetitle %}

{% block header %}
  {% include 'scipost/header_with_acad_field_and_spec3.html' %}
{% endblock %}


{% block content %}


  <ul class="nav nav-pills flex-wrap flex-sm-row mb-0 justify-content-center"
      id="portal-tablist-home3"
      role="tablist">

    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="home-tab"
	      data-bs-toggle="tab" data-bs-target="#home"
	      type="button" role="tab"
	      aria-controls="home" aria-selected="true">
	Home
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <button class="nav-link" id="journals-tab"
	      data-bs-toggle="tab" data-bs-target="#journals"
	      type="button" role="tab"
	      aria-controls="journals" aria-selected="true">
	Journals
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <button class="nav-link" id="publications-tab"
	      data-bs-toggle="tab" data-bs-target="#publications"
	      type="button" role="tab"
	      aria-controls="publications" aria-selected="true">
	Publications
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <button class="nav-link" id="submissions-tab"
	      data-bs-toggle="tab" data-bs-target="#submissions"
	      type="button" role="tab"
	      aria-controls="submissions" aria-selected="true">
	Submissions
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <button class="nav-link border border-2 border-warning" id="reports-needed-tab"
	      data-bs-toggle="tab" data-bs-target="#reports-needed"
	      type="button" role="tab"
	      aria-controls="reports-needed" aria-selected="true">
	Reports needed&nbsp;<span class="text-warning">{% include 'bi/exclamation-square-fill.html' %}</span>
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <button class="nav-link" id="reports-tab"
	      data-bs-toggle="tab" data-bs-target="#reports"
	      type="button" role="tab"
	      aria-controls="reports" aria-selected="true">
	Reports
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <button class="nav-link" id="comments-tab"
	      data-bs-toggle="tab" data-bs-target="#comments"
	      type="button" role="tab"
	      aria-controls="comments" aria-selected="true">
	Comments
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <a class="btn btn-outline-success border-2 ms-4"
	 href="{% url 'submissions:submit_manuscript' %}">
	{% include 'bi/arrow-right.html' %}<strong>Submit</strong>
      </a>
    </li>

  </ul>

  <hr class="mt-0">

  <div class="tab-content mt-4" id="portalTabContent">

    <div class="tab-pane portal-tab fade show active" id="home"
	 role="tabpanel" aria-labelledby="home-tab">
      <div hx-get="{% url 'scipost:portal_hx_home3' %}"
	   hx-trigger="load, click delay:200ms from:#home-tab"
      >
      </div>
    </div>

    <div class="tab-pane portal-tab fade" id="journals"
	 role="tabpanel" aria-labelledby="journals-tab">
      <div hx-get="{% url 'scipost:portal_hx_journals' %}"
	   hx-trigger="click delay:200ms from:#journals-tab, session-acad-field-set from:body"
      >
      </div>
    </div>

    <div class="tab-pane portal-tab fade" id="publications"
	 role="tabpanel" aria-labelledby="publications-tab">
      <div hx-get="{% url 'scipost:portal_hx_publications' %}"
	   hx-trigger="load, click delay:200ms from:#publications-tab, session-acad-field-set from:body, session-specialty-set from:body"
      >
      </div>
    </div>

    <div class="tab-pane portal-tab fade" id="submissions"
	 role="tabpanel" aria-labelledby="submissions-tab">
      <div hx-get="{% url 'scipost:portal_hx_submissions' %}"
	   hx-trigger="click delay:200ms from:#submissions-tab, session-acad-field-set from:body, session-specialty-set from:body"
      >
      </div>
    </div>

    <div class="tab-pane portal-tab fade" id="reports-needed"
	 role="tabpanel" aria-labelledby="reports-needed-tab">
      <div hx-get="{% url 'scipost:portal_hx_submissions' %}?reports_needed=1"
	   hx-trigger="click delay:200ms from:#reports-needed-tab, session-acad-field-set from:body, session-specialty-set from:body"
      >
      </div>
    </div>

    <div class="tab-pane portal-tab fade" id="reports"
	 role="tabpanel" aria-labelledby="reports-tab">
      <div hx-get="{% url 'scipost:portal_hx_reports' %}"
	   hx-trigger="click delay:200ms from:#reports-tab, session-acad-field-set from:body, session-specialty-set from:body"
      >
      </div>
    </div>

    <div class="tab-pane portal-tab fade" id="comments"
	 role="tabpanel" aria-labelledby="comments-tab">
      <div hx-get="{% url 'scipost:portal_hx_comments' %}"
	   hx-trigger="click delay:200ms from:#comments-tab, session-acad-field-set from:body, session-specialty-set from:body"
      >
      </div>
    </div>

  </div>

{% endblock %}

{% block footer_script %}
  {{ block.super }}
  <script nonce="{{ request.csp_nonce }}" src="{% static 'scipost/toggle-proceedings.js' %}">
  </script>
  <script nonce="{{ request.csp_nonce }}" src="{% static 'scipost/toggle-header-forms.js' %}">
  </script>
{% endblock footer_script %}
