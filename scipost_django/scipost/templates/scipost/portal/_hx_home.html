{% load static %}

{% block headsup %}
  <style>
   .sp-swap.htmx-added {
       opacity: 0;
   }
   .sp-swap.htmx-swapping {
       opacity: 0;
   }
   .sp-swap {
       opacity: 1;
       transition: opacity 1s;
   }
  </style>
{% endblock %}

{% block content %}

  <div class="row gx-4">
    <div class="col-md-8">
      <div class="card">
	<div class="card-header">
	  <h1>The Home of Genuine Open Publishing</h1>
	</div>
	<div class="card-body">
	  <p>SciPost is a complete publishing infrastructure serving professional scientists worldwide.</p>
	  <div class="row g-2">
	    <div class="col-lg-6">
	      <div class="card">
		<div class="card-header">
		  <h3>We implement<br><a href="{% url 'scipost:about' %}#GOA">Genuine Open Access</a></h3>
		</div>
		<div class="card-body">
		  <ul class="list list-unstyled">
		    <li>{% include 'bi/check-square.html' %}&nbsp;Community Ownership</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Open Infrastructure</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Copyright to Authors</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Open Access</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Open Citations</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Fee Free</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Non Profit</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Open Finances</li>
		    <li>{% include 'bi/check-square.html' %}&nbsp;Academic Editing</li>
		  </ul>
		</div>
	      </div>
	    </div>
	    <div class="col-lg-6">
	      <div class="card mb-2">
		<div class="card-header">
		  <h3>Info</h3>
		</div>
		<div class="card-body">
		  <ul class="list list-unstyled">
		    <li>{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="{% url 'scipost:about' %}">About SciPost</a></li>
		    <li>{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="{% url 'scipost:foundation' %}">The Foundation</a></li>
		    <li>{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="{% url 'scipost:FAQ' %}">FAQ</a></li>
		    <li>{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="{% url 'scipost:contact' %}">Contact us</a></li>
		    <li>{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="{% url 'careers:jobopenings' %}">Careers&#64;SciPost</a></li>
		    <li>{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="https://disc.{{ request.get_host }}" target="_blank" rel="noopener">{% include 'bi/chat-right-text.html' %} Community</a></li>
		    <li>{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="https://git.{{ request.get_host }}" target="_blank" rel="noopener">{% include 'bi/code-square.html' %} git.{{ request.get_host }}</a></li>
		    <li class="mt-4">{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="{% url 'finances:business_model' %}">Our Business Model</a></li>
		    <li class="mt-2">{% include 'bi/arrow-right.html' %}&nbsp;
		      <a href="{% url 'organizations:organizations' %}">Organizations<br/><span class="small">&emsp;&emsp;benefitting from our activities</span></a></li>
		  </ul>

		</div>
	      </div>

	      {% if not user.is_authenticated %}
		<!-- Register -->
		<div class="card border border-danger">
		  <div class="card-header">
		    <h3>Register</h3>
		  </div>
		  <div class="card-body">
		    <p class="mb-1">Professional scientists (PhD students and above) can become Contributors to SciPost by filling the <a href="{% url 'scipost:register' %}">registration form</a>.</p>
		  </div><!-- End Register -->
		</div>
	      {% endif %}
	    </div>

	    <div class="col-lg-12">
	      <div class="card">
		<div class="card-header">
		  <h1>Sponsors</h1>
		</div>
		<div class="card-body">
		  <div class="row">
		    <div class="col">
		      <p>
			We invite <a href="{% url 'organizations:organizations' %}">organizations benefitting from SciPost's activities</a> to join our growing <a href="{% url 'sponsors:sponsors' %}">list of Sponsors</a>. Look at our <a href="{% static 'sponsors/SciPost_Sponsors_Board_Prospectus.pdf' %}">one-page Prospectus</a> and at our full <a href="{% static 'sponsors/SciPost_Sponsorship_Agreement.pdf' %}">Sponsorship Agreement template</a>.
		      </p>
		      <p>
			<strong>Scientists, please help us out:</strong> Please petition your local librarian/director/... to consider sponsoring us. You can use this email <a href="mailto:?subject=Petition to support SciPost&body={% autoescape on %}{% include 'sponsors/sponsor_petition_email.html' %}{% endautoescape %}&cc=sponsors@{{ request.get_host }}">template</a>.
		      </p>
		    </div>
		    <div class="col-md-4">
		      <a href="{% url 'sponsors:sponsors' %}">See all sponsors</a>
		      <br>
		      <div id="sponsor-logos" class="sp-swap"
			   hx-get="{% url 'scipost:_hx_sponsors' %}"
			   hx-trigger="load"
			   hx-swap="outerHTML swap:1s"
		      >
		      </div>
		    </div>
		  </div>
		</div>
	      </div>
	    </div>

	    <div class="col-lg-12"
		 hx-get="{% url 'scipost:_hx_participates_in' %}"
		 hx-trigger="load"
	    >
	    </div>



	  </div>
	</div>
      </div>
    </div>




    <div class="col-md-4">
      <h1 class="title">
	News
	<button class="btn btn-link btn-sm m-0 mb-1" href="{% url 'scipost:feeds' %}" aria-label="RSS feeds">{% include 'bi/rss-fill.html' %}</button>
      </h1>
      <a href="{% url 'news:news' %}" class="my-1 float-right">See complete News list</a>

      <div class="card">
	<div class="card-header">
	  <h3>Latest</h3>
	</div>
	<div class="card-body">
          <h3><a href="{% url 'news:news' %}#news_{{ latest_newsitem.id }}">{{ latest_newsitem.headline }}</a></h3>
          <div class="text-muted">{{ latest_newsitem.date|date:'j F Y' }}</div>
          <p>
	    {{ latest_newsitem.blurb_short }}
	    <br>
	    <br>
	    <a href="{% url 'news:news' %}#news_{{ latest_newsitem.id }}" class="my-1">Read more &rarr;</a>
          </p>
	</div>
      </div>

      <div class="card">
	<div class="card-header">
	  <h3>Further news</h3>
	</div>
	<div class="card-body">
	  <div id="further-news" class="sp-swap"
	       hx-get="{% url 'scipost:_hx_news' %}"
	       hx-trigger="load"
	       hx-swap="outerHTML swap:1s"
	  >
	  </div>
	</div>
      </div>
    </div>

  </div>

{% endblock %}
