{% load static %}
{% load scipost_extras %}

<div id="sponsor-logos"
     class="d-flex sp-swap"
     hx-get="{% url 'scipost:_hx_sponsors' %}?dt={{ request.GET.dt|increment_dt }}"
     hx-push-url="false"
     hx-trigger="every {{ request.GET.dt|increment_dt }}s"
     hx-swap="outerHTML swap:1s">

  {% for source in sponsor.logos.all %}
    <picture class="mx-auto d-flex flex-column">
      <source type="{{ source.mimetype }}"
              srcset="{{ source.image.url }} {{ source.width }}" />

      <img class="rounded"
           style="max-height: 100%;
                  max-width: 100%;
                  object-fit: contain"
           src="{{ sponsor.logo.url }}"
           alt="{{ sponsor.name }} logo" />

      <caption>
        <a href="{{ sponsor.get_absolute_url }}" target="_blank">{{ sponsor.name }}</a>
      </caption>
    </picture>
  {% empty %}
    <h2 class="mt-2">
      <a href="{{ sponsor.get_absolute_url }}" target="_blank">{{ sponsor.name }}</a>
    </h2>
  {% endfor %}

</div>
