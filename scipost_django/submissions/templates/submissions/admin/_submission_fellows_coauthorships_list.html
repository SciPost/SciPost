<ul class="list-group list-group-flush">

  {% for fellow in fellows_with_coauthorships %}
    <li class="d-flex flex-column p-2 list-group-item">
      <details open>
        <summary class="d-flex list-triangle align-items-center flex-row">
          <span class="fw-bold fs-6">{{ fellow.contributor.profile }}</span>
          <div style="max-width: 600px"
               class="ms-auto coauthorship-fetch-button">
            <span id="coauthorship-{{ fellow.id }}-fetch-indicator"
                  class="htmx-indicator"
                  role="status"
                  aria-hidden="true">
              <span class="spinner-grow spinner-grow-sm"></span></span>
              <button class="btn btn-light btn-sm"
                      hx-indicator="#coauthorship-{{ fellow.id }}-fetch-indicator"
                      hx-post="{% url 'ethics:_hx_fetch_coauthorships_for_submission_authors' submission.preprint.identifier_w_vn_nr fellow.contributor.profile.id %}"
                      hx-target="closest .coauthorship-fetch-button">Update records</button>
            </div>
          </summary>
          <div hx-get="{% url 'ethics:_hx_list_coauthorships_for_submission_authors' submission.preprint.identifier_w_vn_nr fellow.contributor.profile.id %}"
               hx-trigger="task-completed from:closest li"
               hx-swap="innerHTML">
            {% include 'submissions/admin/_coauthorships.html' with coauthorships=fellow.contributor.profile.submission_coauthorships %}
          </div>
        </details>
      </li>
    {% endfor %}

  </ul>
