{% extends 'scipost/base.html' %}

{% load crispy_forms_tags %}

{% block headsup %}
  <script src="https://unpkg.com/htmx.org@1.6.0" integrity="sha384-G4dtlRlMBrk5fEiRXDsLjriPo8Qk5ZeHVVxS8KhX6D7I9XXJlNqbdvRlp9/glk5D" crossorigin="anonymous"></script>
{% endblock headsup %}

{% block body_class %}{{ block.super }} pool{% endblock %}

{% block breadcrumb %}
  <div class="breadcrumb-container">
    <div class="container">
      <nav class="breadcrumb hidden-sm-down">
        {% block breadcrumb_items %}
          <a href="{% url 'submissions:pool2' %}" class="breadcrumb-item">Pool2</a>
        {% endblock %}
      </nav>
    </div>
  </div>
{% endblock %}

{% block content %}

  <div class="card">
    <div class="card-header">
      Search / filter
    </div>
    <div class="card-body">
      <form
	  hx-post="{% url 'submissions:pool_hx_submissions_list' %}"
	  hx-trigger="load, keyup delay: 500ms, change"
	  hx-target="#search-results"
	  hx-indicator="#indicator-search"
      >
	<div id="search-form">{% crispy form %}</div>
      </form>
    </div>
  </div>
  <div id="indicator-search" class="htmx-indicator p-2">
    <button class="btn btn-warning" type="button" disabled>
      <strong>Loading...</strong>
      <div class="spinner-grow spinner-grow-sm ms-2" role="status" aria-hidden="true"></div>
    </button>
  </div>
  <ul id="search-results" class="list-unstyled pool-list mt-2"></ul>

{% endblock content %}
