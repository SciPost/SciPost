{% extends 'scipost/base.html' %}

{% load bootstrap %}

{% load scipost_extras %}

{% block pagetitle %}: request Commentary{% endblock pagetitle %}

{% block content %}

<div class="row">
    <div class="col-12">
        <div class="panel">
            <h1>Request Activation of a Commentary Page:</h1>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6 offset-md-3">
    {% if errormessage %}
        <h3 style="color: red;">Error: {{ errormessage }}</h3>
        {% if existing_commentary %}
            <ul>{% include 'commentaries/_commentary_card_content.html' with object=existing_commentary %}</ul>
        {% endif %}
        <br/>
    {% endif %}

  <div id="DOIprefill">
    <h3><em>For published papers, you can prefill the form (except for domain, subject area and abstract) using the DOI:</em></h3>
    <p><em>(give the DOI as 10.[4 to 9 digits]/[string], without prefix, as per the placeholder)</em></p>
    <form action="{% url 'commentaries:prefill_using_DOI' %}" method="post">
      {% csrf_token %}
      {{ doiform|bootstrap }}
      <input class="btn btn-secondary" type="submit" value="Query DOI"/>
    </form>
  </div>
  <div id="arXivprefill">
    <h3><em>For preprints, you can prefill the form using the arXiv identifier:</em></h3>
    <p><em>(give the identifier without prefix, as per the placeholder)</em></p>
    <form action="{% url 'commentaries:prefill_using_identifier' %}" method="post">
      {% csrf_token %}
      {{ identifierform|bootstrap }}
      <input class="btn btn-secondary" type="submit" value="Query arXiv"/>
    </form>
  </div>
  <br/>
  <form id="requestForm" action="{% url 'commentaries:request_commentary' %}" method="post">
    {% csrf_token %}
      {{ request_commentary_form|bootstrap }}
    <input class="btn btn-primary" type="submit" value="Submit"/>
  </form>

    </div>
</div>

{% endblock content %}
