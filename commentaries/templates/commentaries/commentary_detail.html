{% extends 'scipost/base.html' %}

{% block pagetitle %}: Commentary detail{% endblock pagetitle %}

{% block headsup %}

{% load scipost_extras %}

<script>
  $(document).ready(function(){

    var comment_text_input = $("#id_comment_text");

    function set_comment_text(value) {
      $("#preview-comment_text").text(value)
    }
    set_comment_text(comment_text_input.val());

    comment_text_input.keyup(function(){
      var new_text = $(this).val()
      set_comment_text(new_text)
      MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    });

  });
</script>

{% endblock headsup %}

{% block content %}

<div class="row">
    <div class="col-12">
        <h1 class="highlight">SciPost Commentary Page (non-SciPost publications)</h1>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <h2>Original publication: </h2>
        {{ commentary.header_as_table }}
    </div>
</div>

<div class="row">
    <div class="col-12">
        <h3>Abstract:</h3>
        <p>{{ commentary.pub_abstract }}</p>
    </div>
</div>

{% include 'scipost/comments_block.html' %}

{% include 'comments/new_comment.html' with object_id=commentary.id type_of_object='commentary' open_for_commenting=commentary.open_for_commenting %}

{% endblock content %}
