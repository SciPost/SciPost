{% extends 'scipost/base.html' %}

{% block pagetitle %}: accept or decline assignments{% endblock pagetitle %}

{% block bodysup %}

<script>
$(document).ready(function(){

  $('#ref_reason').hide();

  $('#id_accept').on('change', function() {
      if ($('#id_accept_1').is(':checked')) {
          $('#ref_reason').show();
      }
      else {
          $('#ref_reason').hide();
      }
    });
  });
</script>



<section>
  {% if not assignment_to_consider %}
  <h1>There are no Assignments for you to consider.</h1>

  {% else %}

  <div class="flex-greybox">
    <h1>SciPost Submission Assigned to you (see below to accept/decline):</h1>
  </div>
  <br>
  <hr>
  {{ assignment_to_consider.submission.header_as_table }}
  <br />
  <h4>Abstract:</h4>
  <p>{{ assignment_to_consider.submission.abstract }}</p>
  <br/>
  <hr>
  <div class="flex-greybox">
    <h1>Accept or Decline this Assignment</h1>
  </div>
  <h3>By accepting, you will be required to start a refereeing round on the next screen.</h3>
  <form action="{% url 'submissions:accept_or_decline_assignment_ack' assignment_id=assignment_to_consider.id %}" method="post">
    {% csrf_token %}
    {{ form.accept }}
    <div id="ref_reason">
      <p>Please select a reason for declining this assignment:</p>
      {{ form.refusal_reason }}
    </div>
    <input type="submit" value="Submit" />
  </form>

  {% endif %}
</section>

{% endblock bodysup %}
