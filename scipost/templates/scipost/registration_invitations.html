{% extends 'scipost/base.html' %}

{% block pagetitle %}: registration invitations{% endblock pagetitle %}

{% block bodysup %}

<section>
  <div class="flex-greybox">
    <h1>Registration Invitations</h1>
  </div>
</section>
<hr class="hr12"/>
<section>
  <div class="flex-greybox">
    <h2>Send a new invitation:</h2>
  </div>
    <form action="{% url 'scipost:registration_invitations' %}" method="post">
      {% csrf_token %}
      {% load crispy_forms_tags %}
      {% crispy reg_inv_form %}
    </form>
</section>
<hr class="hr12"/>
<section>
  <div class="flex-greybox">
    <h2>Invitations sent:</h2>
  </div>
  <h3>Editorial Fellows</h3>
  <table class="tableofInvitees">
    <tr><td>Last name</td><td>First name</td><td>Email</td><td>Date sent</td><td>Type (Fellow, Contrib)</td><td>Responded</td></tr>
    {% for fellow in sent_reg_inv_fellows %}
    <tr>
      <td>{{ fellow.last_name }}</td>
      <td>{{ fellow.first_name }}</td>
      <td>{{ fellow.email_address }}</td>
      <td>{{ fellow.date_sent }} </td>
      <td>{{ fellow.invitation_type }}</td>
      <td>{{ fellow.responded }}</td></tr>
    {% endfor %}
  </table>
  
  <h3>Normal Contributors</h3>
  <table class="tableofInvitees">
    <tr><td>Last name</td><td>First name</td><td>Email</td><td>Date sent</td><td>Type (Fellow, Contrib)</td><td>Responded</td></tr>
    {% for fellow in sent_reg_inv_contrib %}
    <tr>
      <td>{{ fellow.last_name }}</td>
      <td>{{ fellow.first_name }}</td>
      <td>{{ fellow.email_address }}</td>
      <td>{{ fellow.date_sent }} </td>
      <td>{{ fellow.invitation_type }}</td>
      <td>{{ fellow.responded }}</td></tr>
    {% endfor %}
  </table>

</section>

{% endblock bodysup %}
