{% extends 'scipost/base.html' %}

{% block pagetitle %}: registration invitations{% endblock pagetitle %}

{% block bodysup %}

<section>
  <div class="flex-greybox">
    <h1>Registration Invitations</h1>
  </div>
</section>
<hr class="hr12"/>
<section>
  <div class="flex-greybox">
    <h2>Send a new invitation:</h2>
  </div>
  {% if errormessage %}
  <h3>{{ errormessage }}</h3>
  {% endif %}
  <form action="{% url 'scipost:registration_invitations' %}" method="post">
    {% csrf_token %}
    {% load crispy_forms_tags %}
    {% crispy reg_inv_form %}
  </form>
</section>
<hr class="hr12"/>
<section>
  <div class="flex-greybox">
    <h2>Invitations sent (response pending) &nbsp;&nbsp; EF ({{ nr_sent_reg_inv_fellows }}), C ({{ nr_sent_reg_inv_contrib }}):</h2>
  </div>
  <hr class="hr6"/>  
  <h3>Editorial Fellows ({{ nr_sent_reg_inv_fellows }})</h3>
  <table class="tableofInvitees">
    <tr><td>Last name</td><td>First name</td><td>Email</td><td>Date sent</td><td>Type</td><td>Invited by</td></tr>
    {% for fellow in sent_reg_inv_fellows %}
    <tr>
      <td>{{ fellow.last_name }}</td>
      <td>{{ fellow.first_name }}</td>
      <td>{{ fellow.email_address }}</td>
      <td>{{ fellow.date_sent }} </td>
      <td>{{ fellow.invitation_type }}</td>
      <td>{{ fellow.invited_by.user.last_name }}</td>
    </tr>
    {% endfor %}
  </table>
  <hr class="hr6"/>  
  <h3>Normal Contributors ({{ nr_sent_reg_inv_contrib }})</h3>
  <table class="tableofInvitees">
    <tr><td>Last name</td><td>First name</td><td>Email</td><td>Date sent</td><td>Type</td><td>Invited by</td></tr>
    {% for fellow in sent_reg_inv_contrib %}
    <tr>
      <td>{{ fellow.last_name }}</td>
      <td>{{ fellow.first_name }}</td>
      <td>{{ fellow.email_address }}</td>
      <td>{{ fellow.date_sent }} </td>
      <td>{{ fellow.invitation_type }}</td>
      <td>{{ fellow.invited_by.user.last_name }}</td>
    </tr>
    {% endfor %}
  </table>
</section>
  <hr class="hr12"/>
<section>
  <div class="flex-greybox">
    <h2>Invitations sent (responded) &nbsp;&nbsp; EF ({{ nr_resp_reg_inv_fellows }}), C ({{ nr_resp_reg_inv_contrib }}):</h2>
  </div>
  <hr class="hr6"/>  
  <h3>Editorial Fellows ({{ nr_resp_reg_inv_fellows }})</h3>
  <table class="tableofInviteesResponded">
    <tr><td>Last name</td><td>First name</td><td>Email</td><td>Date sent</td><td>Type</td><td>Invited by</td></tr>
    {% for fellow in resp_reg_inv_fellows %}
    <tr>
      <td>{{ fellow.last_name }}</td>
      <td>{{ fellow.first_name }}</td>
      <td>{{ fellow.email_address }}</td>
      <td>{{ fellow.date_sent }} </td>
      <td>{{ fellow.invitation_type }}</td>
      <td>{{ fellow.invited_by.user.last_name }}</td>
    </tr>
    {% endfor %}
  </table>
  <hr class="hr6"/>
  <h3>Normal Contributors ({{ nr_resp_reg_inv_contrib}})</h3>
  <table class="tableofInviteesResponded">
    <tr><td>Last name</td><td>First name</td><td>Email</td><td>Date sent</td><td>Type</td><td>Invited by</td></tr>
    {% for fellow in resp_reg_inv_contrib %}
    <tr>
      <td>{{ fellow.last_name }}</td>
      <td>{{ fellow.first_name }}</td>
      <td>{{ fellow.email_address }}</td>
      <td>{{ fellow.date_sent }} </td>
      <td>{{ fellow.invitation_type }}</td>
      <td>{{ fellow.invited_by.user.last_name }}</td>
    </tr>
    {% endfor %}
  </table>

</section>

{% endblock bodysup %}
