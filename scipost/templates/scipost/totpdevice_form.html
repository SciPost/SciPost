{% extends 'scipost/_personal_page_base.html' %}

{% block pagetitle %}: New device{% endblock pagetitle %}

{% load bootstrap %}

{% block breadcrumb_items %}
    {{block.super}}
    <a href="{% url 'scipost:totp' %}" class="breadcrumb-item">Two factor authentication</a>
    <span class="breadcrumb-item">New device</span>
{% endblock %}


{% block content %}

<div class="row">
    <div class="col-md-12">
      <h1 class="highlight">Set up two factor authentication device</h1>

    <p>
        An authenticator app lets you generate security codes on your phone without needing to receive text messages. If you don’t already have one, we support any of these apps.
        <br>
        To configure your authenticator app:
    </p>
    <ul>
        <li>Add a new time-based token.</li>
        <li>Use your app to scan the barcode below, or <a href="javascript:;" data-toggle="toggle" data-target="#secret-key">enter your secret key manually</a>.</li>
    </ul>
      <form method="post">
        {% csrf_token %}
        <div class="text-center">
            <img id="qr" data-toggle="qr" data-qr-value="{{ form.get_QR_data }}">
            <h3 class="p-3" id="secret-key" style="display: none;"><code>{{ form.secret_key }}</code></h3>
        </div>
        <p>
            Enter the security code generated by your mobile authenticator app to make sure it’s configured correctly.
        </p>

          {{ form|bootstrap }}
        <input type="submit" class="btn btn-primary" value="Add device" />
      </form>
    </div>

</div>

{% endblock %}
