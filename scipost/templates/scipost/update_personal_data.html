{% extends 'scipost/base.html' %}

{% block pagetitle %}: update personal data{% endblock pagetitle %}

{% load bootstrap %}

{% block content %}

<script>

$(document).ready(function(){

  switch ($('select#id_discipline').val()) {
    case "physics":
      $("#id_expertises_0").closest("li").show();
      $("#id_expertises_1").closest("li").hide();
      $("#id_expertises_2").closest("li").hide();
      $("#id_expertises_3").closest("li").hide();
      break;
    case "astrophysics":
      $("#id_expertises_0").closest("li").hide();
      $("#id_expertises_1").closest("li").show();
      $("#id_expertises_2").closest("li").hide();
      $("#id_expertises_3").closest("li").hide();
      break;
    case "mathematics":
      $("#id_expertises_0").closest("li").hide();
      $("#id_expertises_1").closest("li").hide();
      $("#id_expertises_2").closest("li").show();
      $("#id_expertises_3").closest("li").hide();
      break;
    case "computerscience":
      $("#id_expertises_0").closest("li").hide();
      $("#id_expertises_1").closest("li").hide();
      $("#id_expertises_2").closest("li").hide();
      $("#id_expertises_3").closest("li").show();
      break;
    default:
      $("#id_expertises_0").closest("li").show();
      $("#id_expertises_1").closest("li").show();
      $("#id_expertises_2").closest("li").show();
      $("#id_expertises_3").closest("li").show();
      break;
  }

  $('select#id_discipline').on('change', function() {
    var selection = $(this).val();
    switch(selection){
    case "physics":
      $("#id_expertises_0").closest("li").show();
      $("#id_expertises_1").closest("li").hide();
      $("#id_expertises_2").closest("li").hide();
      $("#id_expertises_3").closest("li").hide();
      break;
    case "astrophysics":
      $("#id_expertises_0").closest("li").hide();
      $("#id_expertises_1").closest("li").show();
      $("#id_expertises_2").closest("li").hide();
      $("#id_expertises_3").closest("li").hide();
      break;
    case "mathematics":
      $("#id_expertises_0").closest("li").hide();
      $("#id_expertises_1").closest("li").hide();
      $("#id_expertises_2").closest("li").show();
      $("#id_expertises_3").closest("li").hide();
      break;
    case "computerscience":
      $("#id_expertises_0").closest("li").hide();
      $("#id_expertises_1").closest("li").hide();
      $("#id_expertises_2").closest("li").hide();
      $("#id_expertises_3").closest("li").show();
      break;
    default:
      $("#id_expertises_0").closest("li").show();
      $("#id_expertises_1").closest("li").show();
      $("#id_expertises_2").closest("li").show();
      $("#id_expertises_3").closest("li").show();
      break;
    }
  });

});

</script>

<div class="row">
    <div class="col-lg-10 offset-lg-1">
        <h1 class="highlight">Update your personal data</h1>
        <form action="{% url 'scipost:update_personal_data' %}" method="post">
            {% csrf_token %}
            {{user_form|bootstrap}}
        	{{cont_form|bootstrap}}
            <input type="submit" class="btn btn-secondary" value="Update" />
        </form>
    </div>
</div>

{% endblock content %}
