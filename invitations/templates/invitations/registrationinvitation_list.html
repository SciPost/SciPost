{% extends 'scipost/_personal_page_base.html' %}

{% block pagetitle %}: Registration Invitations{% endblock pagetitle %}

{% block breadcrumb_items %}
    {{block.super}}
    <span class="breadcrumb-item">Registration Invitations</span>
{% endblock %}

{% block content %}

<h1 class="highlight">Registration Invitations</h1>

<div class="row">
    <div class="col-md-8">
        <h3>Actions</h3>
        <ul class="mb-0">
            {% if perms.scipost.can_manage_registration_invitations %}
                <li><a href="{% url 'invitations:cleanup' %}">Perform a cleanup</a></li>
                <li><a href="{% url 'invitations:list_pending_invitations' %}">Show pending invitations</a></li>
            {% endif %}
            {% if perms.scipost.can_create_registration_invitations %}
                <li><a href="{% url 'invitations:new' %}">Create a new invitation</a></li>
            {% endif %}
        </ul>
    </div>
    <div class="col-md-4 text-right">
        <h3>Quick stats</h3>
        Number in draft: {{ count_in_draft }}<br>
        Number pending response: {{ count_pending }}
    </div>
</div>

<div class="row">
    <div class="col-12">
        <h2 class="highlight">Invitations in draft</h2>
        {% if perms.scipost.can_manage_registration_invitations %}
            <a href="{% url 'invitations:list_pending_invitations' %}">Show pending invitations</a>
            <br>
        {% endif %}

        <br>
        {% include 'partials/invitations/registrationinvitation_table.html' with invitations=object_list %}
    </div>
</div>

{% endblock %}
