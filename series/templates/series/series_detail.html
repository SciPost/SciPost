{% extends 'series/series_base.html' %}

{% load bootstrap %}
{% load automarkup %}

{% block breadcrumb_items %}
  {{ block.super }}
  <span class="breadcrumb-item">{{ series.name }}</span>
{% endblock %}

{% block meta_description %}{{ block.super }} Series detail {{ series.name }}{% endblock meta_description %}
{% block pagetitle %}: Series detail{% endblock pagetitle %}

{% block content %}

  <div class="row">
    <div class="col-12">
      <h2 class="highlight">
	{{ series.name }}
	{% if series.container_journals %}
	  <br>
	  <small><em>
	    <ul class="list list-inline mt-2 mb-0">
	      <li class="list-inline-item mx-0">a series contained in</li>
	      {% for container in series.container_journals.all %}
		<li class="list-inline-item">
		  <a href="{{ container.get_absolute_url }}">{{ container }}</a>
		</li>
	      {% endfor %}
	    </ul>
	  </em></small>
	{% endif %}
      </h2>
      <ul>
	<li><a href="#description">Description</a></li>
	<li><a href="#collections">Collections in this Series</a></li>
	<li><a href="#information">Detailed information</a></li>
      </ul>
      <div class="p-2">
	<img class="d-flex mr-3" alt="series image" src="{{ series.image.url }}">
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-6">
      <h3 class="highlight" id="description">Description</h3>
      <div class="p-2">
	{{ series.description|automarkup }}
      </div>
    </div>

    <div class="col-lg-6">
      <h3 class="highlight" id="collections">Collections in this Series</h3>
      <ul>
	{% for collection in series.collection_set.all %}
	  <li><a href="{{ collection.get_absolute_url }}">{{ collection }}</a></li>
	{% empty %}
	  <li>No Collection has yet been assembled for this Series</li>
	{% endfor %}
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <h3 class="highlight" id="information">
	Detailed information&nbsp;
	<a data-toggle="collapse" href="#series-information" aria-expanded="false" aria-controls="series-information">(show/hide)</a>
      </h3>
      <div id="series-information" class="p-2 collapse">
	{{ series.information|automarkup }}
      </div>
    </div>
  </div>

{% endblock content %}
